<div id="like_form">
  <% id = "like-form-" + activity.id.to_s %>
  <% if current_user.liked? activity %>
    <%= form_for current_user.likes.find_by(activity_id: activity.id),
      html: {method: :delete, class: "like-form", id: id} do |f| %>
      <%= hidden_field_tag :activity_id, activity.id %>
      <button type="submit" class="btn btn-default btn-sm"
        id="button_like_<%= activity.id %>">
        <span class="glyphicon glyphicon-thumbs-down"
          id="icon-<%= activity.id %>"></span>
      </button>
    <% end %>
  <% else %>
    <%= form_for current_user.likes.build, html: {class: "like-form"} do |f| %>
      <%= hidden_field_tag :activity_id, activity.id %>
      <%= hidden_field_tag :user_id, current_user.id %>
      <button type="submit" class="btn btn-info btn-sm"
        id="button_like_<%= activity.id %>">
        <span class="glyphicon glyphicon-thumbs-up"
          id="icon-<%= activity.id %>"></span>
      </button>
    <% end %>
  <% end %>
</div>
